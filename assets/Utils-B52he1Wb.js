import{b as l,m as R,d as F,f as E,g as h,h as M,r as T,i as _,V as $,j as q,k as I,l as x}from"./NumberUtils-fSLHzFkB.js";import{i as g,a as v}from"./TypeUtils-BOyOcFPO.js";const H={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Z(){return H}function O(e){const n={bounced:!1},{pSide:t,pOtherSide:o,rectSide:i,rectOtherSide:s,velocity:r,factor:c}=e,m=.5,u=0;return o.min<s.min||o.min>s.max||o.max<s.min||o.max>s.max||(t.max>=i.min&&t.max<=(i.max+i.min)*m&&r>u||t.min<=i.max&&t.min>(i.max+i.min)*m&&r<u)&&(n.velocity=r*-c,n.bounced=!0),n}function N(e,n){const t=p(n,o=>e.matches(o));return g(t)?t.some(o=>o):t}function b(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function C(){return!b()&&typeof matchMedia<"u"}function B(e){if(C())return matchMedia(e)}function j(e){if(!(b()||typeof IntersectionObserver>"u"))return new IntersectionObserver(e)}function z(e){if(!(b()||typeof MutationObserver>"u"))return new MutationObserver(e)}function A(e,n){return e===n||g(n)&&n.indexOf(e)>-1}async function ee(e,n){try{await document.fonts.load(`${n??"400"} 36px '${e??"Verdana"}'`)}catch{}}function G(e){return Math.floor(h()*e.length)}function J(e,n,t=!0){return e[n!==void 0&&t?n%e.length:G(e)]}function ne(e,n,t,o,i){return K(k(e,o??0),n,t,i)}function K(e,n,t,o){let i=!0;return(!o||o==="bottom")&&(i=e.top<n.height+t.x),i&&(!o||o==="left")&&(i=e.right>t.x),i&&(!o||o==="right")&&(i=e.left<n.width+t.y),i&&(!o||o==="top")&&(i=e.bottom>t.y),i}function k(e,n){return{bottom:e.y+n,left:e.x-n,right:e.x+n,top:e.y-n}}function V(e,...n){for(const t of n){if(t==null)continue;if(!v(t)){e=t;continue}const o=Array.isArray(t);o&&(v(e)||!e||!Array.isArray(e))?e=[]:!o&&(v(e)||!e||Array.isArray(e))&&(e={});for(const i in t){if(i==="__proto__")continue;const s=t,r=s[i],c=e;c[i]=v(r)&&Array.isArray(r)?r.map(m=>V(c[i],m)):V(c[i],r)}}return e}function ie(e,n){return!!P(n,t=>t.enable&&A(e,t.mode))}function te(e,n,t){p(n,o=>{const i=o.mode;o.enable&&A(e,i)&&Q(o,t)})}function Q(e,n){const t=e.selectors;p(t,o=>{n(o,e)})}function oe(e,n){if(!(!n||!e))return P(e,t=>N(n,t.selectors))}function re(e){return{position:e.getPosition(),radius:e.getRadius(),mass:e.getMass(),velocity:e.velocity,factor:$.create(l(e.options.bounce.horizontal.value),l(e.options.bounce.vertical.value))}}function se(e,n){const{x:t,y:o}=e.velocity.sub(n.velocity),[i,s]=[e.position,n.position],{dx:r,dy:c}=q(s,i);if(t*r+o*c<0)return;const u=-Math.atan2(c,r),y=e.mass,f=n.mass,a=e.velocity.rotate(u),d=n.velocity.rotate(u),S=I(a,d,y,f),L=I(d,a,y,f),w=S.rotate(-u),D=L.rotate(-u);e.velocity.x=w.x*e.factor.x,e.velocity.y=w.y*e.factor.y,n.velocity.x=D.x*n.factor.x,n.velocity.y=D.y*n.factor.y}function ce(e,n){const t=e.getPosition(),o=e.getRadius(),i=k(t,o),s=e.options.bounce,r=O({pSide:{min:i.left,max:i.right},pOtherSide:{min:i.top,max:i.bottom},rectSide:{min:n.left,max:n.right},rectOtherSide:{min:n.top,max:n.bottom},velocity:e.velocity.x,factor:l(s.horizontal.value)});r.bounced&&(r.velocity!==void 0&&(e.velocity.x=r.velocity),r.position!==void 0&&(e.position.x=r.position));const c=O({pSide:{min:i.top,max:i.bottom},pOtherSide:{min:i.left,max:i.right},rectSide:{min:n.top,max:n.bottom},rectOtherSide:{min:n.left,max:n.right},velocity:e.velocity.y,factor:l(s.vertical.value)});c.bounced&&(c.velocity!==void 0&&(e.velocity.y=c.velocity),c.position!==void 0&&(e.position.y=c.position))}function p(e,n){return g(e)?e.map((o,i)=>n(o,i)):n(e,0)}function ue(e,n,t){return g(e)?J(e,n,t):e}function P(e,n){return g(e)?e.find((o,i)=>n(o,i)):n(e,0)?e:void 0}function ae(e,n){const t=e.value,o=e.animation,i={delayTime:l(o.delay)*R,enable:o.enable,value:l(e.value)*n,max:F(t)*n,min:E(t)*n,loops:0,maxLoops:l(o.count),time:0},s=1;if(o.enable){switch(i.decay=s-l(o.decay),o.mode){case"increase":i.status="increasing";break;case"decrease":i.status="decreasing";break;case"random":i.status=h()>=M?"increasing":"decreasing";break}const r=o.mode==="auto";switch(o.startValue){case"min":i.value=i.min,r&&(i.status="increasing");break;case"max":i.value=i.max,r&&(i.status="decreasing");break;case"random":default:i.value=T(i),r&&(i.status=h()>=M?"increasing":"decreasing");break}}return i.initialValue=i.value,i}function U(e,n){if(!(e.mode==="percent")){const{mode:i,...s}=e;return s}return"x"in e?{x:e.x/x*n.width,y:e.y/x*n.height}:{width:e.width/x*n.width,height:e.height/x*n.height}}function le(e,n){return U(e,n)}function W(e,n,t,o,i){switch(n){case"max":t>=i&&e.destroy();break;case"min":t<=o&&e.destroy();break}}function me(e,n,t,o,i){if(e.destroyed||!n||!n.enable||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0))return;const y=(n.velocity??0)*i.factor,f=n.min,a=n.max,d=n.decay??1;if(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=i.value),!((n.delayTime??0)>0&&n.time<(n.delayTime??0))){switch(n.status){case"increasing":n.value>=a?(t?n.status="decreasing":n.value-=a,n.loops||(n.loops=0),n.loops++):n.value+=y;break;case"decreasing":n.value<=f?(t?n.status="increasing":n.value+=a,n.loops||(n.loops=0),n.loops++):n.value-=y}n.velocity&&d!==1&&(n.velocity*=d),W(e,o,n.value,f,a),e.destroyed||(n.value=_(n.value,f,a))}}export{b as a,J as b,z as c,V as d,p as e,le as f,Z as g,ae as h,ue as i,A as j,j as k,te as l,se as m,re as n,k as o,ie as p,oe as q,ce as r,B as s,ee as t,me as u,ne as v};

import{Grab as v}from"./index-DE31twBP.js";import{g as y}from"./CanvasUtils-naQ4Jb_L.js";import{d as k,j as L,k as O}from"./ColorUtils-Cn7nrMWp.js";import{E as h}from"./ExternalInteractorBase-CIi3zRdK.js";import{o as C,G as w}from"./NumberUtils-fSLHzFkB.js";import{j as D}from"./Utils-B52he1Wb.js";import"./index-BtcOUWqf.js";import"./OptionsColor-BU8TyMFV.js";import"./TypeUtils-BOyOcFPO.js";const E=0;function G(r,t,n,i,o,e){y(r,n,i),r.strokeStyle=k(o,e),r.lineWidth=t,r.stroke()}function M(r,t,n,i,o){r.canvas.draw(e=>{const s=t.getPosition();G(e,t.retina.linksWidth??E,s,o,n,i)})}const P="grab",q=0,H=0;class T extends h{constructor(t){super(t)}clear(){}init(){const t=this.container,n=t.actualOptions.interactivity.modes.grab;n&&(t.retina.grabModeDistance=n.distance*t.retina.pixelRatio)}interact(){var c;const t=this.container,n=t.actualOptions,i=n.interactivity;if(!i.modes.grab||!i.events.onHover.enable||t.interactivity.status!==C)return;const o=t.interactivity.mouse.position;if(!o)return;const e=t.retina.grabModeDistance;if(!e||e<q)return;const s=t.particles.quadTree.queryCircle(o,e,a=>this.isEnabled(a));for(const a of s){const f=a.getPosition(),l=w(f,o);if(l>e)continue;const b=i.modes.grab.links,d=b.opacity,m=d-l*d/e;if(m<=H)continue;const p=b.color??((c=a.options.links)==null?void 0:c.color);if(!t.particles.grabLineColor&&p){const u=i.modes.grab.links;t.particles.grabLineColor=L(p,u.blink,u.consent)}const g=O(a,void 0,t.particles.grabLineColor);g&&M(t,a,g,m,o)}}isEnabled(t){const n=this.container,i=n.interactivity.mouse,o=((t==null?void 0:t.interactivity)??n.actualOptions.interactivity).events;return o.onHover.enable&&!!i.position&&D(P,o.onHover.mode)}loadModeOptions(t,...n){t.grab||(t.grab=new v);for(const i of n)t.grab.load(i==null?void 0:i.grab)}reset(){}}export{T as Grabber};
